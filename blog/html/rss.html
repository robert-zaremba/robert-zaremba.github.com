<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>Robert Zaremba Scale it blog</title>
        <link>http://rz.scale-it.pl/</link>
        <description>by Robert Zaremba</description>
        <language>en-us</language>
        <pubDate>Mon, 07 Jan 2013 00:00:00 +0100</pubDate>
        
        <item>
            <link>http://rz.scale-it.pl/2013/01/07/python___language_of_the_decade.html</link>
            <guid>http://rz.scale-it.pl/2013/01/07/python___language_of_the_decade.html</guid>
            <title>Python - language of the decade</title>
            <description><![CDATA[<div class="section" id="python-language-of-the-decade">
<h1>Python - language of the decade</h1>
<p>Recently I found a <a class="reference external" href="https://sites.google.com/site/pydatalog/pypl/PyPL-PopularitY-of-Programming-Language">PYPL</a> - PopularitY of Programming Language index. It rediscovers the indicator of programming language popularity. Author argue that TIOBE index can be hypocritical due to the ambiguity of programming languages name, and introduce other phrases to use in Google Trends.</p>
<p>Looking at the author study, we can deduce that Python has the biggest increase in the last decade. What’s better we can see good linear growth for 10 years! Greetings for Python!</p>
<img alt="/_static/images/programming_languages_popularity.png" src="/_static/images/programming_languages_popularity.png"/>
<p>The plot is interesting indeed, because constant line doesn’t mean bad. It’s mean that constantly some group of people (for Java and PHP - a large group) wants to learn this language.
Python is the only language which behaves different here.</p>
<p>As we known Python start from scripting and scientific fields, and now becomes increasingly popular, hitting the technologies which are dominated by web and business. Those technologies are supported by big companies (Java, C#, C++), which pay big money for support, and web (PHP, Ruby), which makes a lot of noise in the internet. It is very difficult to become popular in such big competition. And Python get it successively. For me this is the reason why <em>Python is the language of the decade.</em></p>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Mon, 07 Jan 2013 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/12/17/the_python_condition__why_pypy_is_the_future_of_python.html</link>
            <guid>http://rz.scale-it.pl/2012/12/17/the_python_condition__why_pypy_is_the_future_of_python.html</guid>
            <title>The Python condition. Why PyPy is the future of Python</title>
            <description><![CDATA[<div class="section" id="the-python-condition-why-pypy-is-the-future-of-python">
<h1>The Python condition. Why PyPy is the future of Python</h1>
<p>Python is now far more then simply glue or scripting language. For those who think otherwise just check the couple of Python success stories:</p>
<ul class="simple">
<li>YouTube - it’s mainly written in Python</li>
<li><a class="reference external" href="http://python.org/about/success/usa/">NASA</a></li>
<li><a class="reference external" href="http://python.org/about/success/ilm/">Industrial Light &amp; Magic Runs</a> - the movie company</li>
<li><a class="reference external" href="https://en.wikipedia.org/wiki/OpenStack">OpenStack</a></li>
<li><a class="reference external" href="http://www.sagemath.org/">Sage</a> - the scientific software, and others (SciPy, PythonXY)</li>
<li>Web programming using Django, Pyramid, bottle...</li>
<li>Revision Control System</li>
<li><a class="reference external" href="http://en.wikipedia.org/wiki/List_of_Python_software#Applications">all other great software</a></li>
</ul>
<p>I recommend <a class="reference external" href="http://www.infoq.com/presentations/A-Few-of-My-Favorite-Python-Things">My-Favorite-Python-Things</a> presentation if you are looking for a quick intro to the beauty of Python.</p>
<div class="section" id="high-level-languages-are-mainstream">
<h2>High level languages are mainstream</h2>
<p>Nowadays high level languages allow to write simple code with greater flexibility.
Creating applications faster makes people choosing dynamic languages, where you don’t need to specify types and waste time to fighting with them (all the boilerplate code about interfaces just to satisfy compilation process).
Someone can argue that this behaviour produces buggy code. For those I would say, after Guido van Rossum: “<em>who produces code without test</em>”? Static languages can handle some errors during compile time. But they can’t detect all of them. So in the end you need to write tests, which in the same time are sufficient to test typing and easier to write using dynamic languages.
Moreover people still can’t invent good (far to say perfect) type system. Jim Treavor wrote some <a class="reference external" href="http://trevorjim.com/dynamic-languages/">summary</a> about this.</p>
<p>New techniques and knowledge allows us to produce highly efficient runtimes for dynamic languages (JavaScript V8, LuaJIT, Racket, Common Lisp...), which successfully compete with tremendous software frameworks (JVM, .NET, ...)</p>
<p>All of this makes high level languages increasingly popular in enterprises and daily use.</p>
<div class="section" id="is-python-continue-the-success-story">
<h3>Is Python continue the success story?</h3>
<p>Now, Python is very popular. But it’s position is threatened by a competition.
Python has a great ecosystem with huge amount of software and community.
But it lacks efficient and state of the art runtime, which competition already have.</p>
</div>
<div class="section" id="python-as-a-glue-language">
<h3>Python as a glue language.</h3>
<p>As I stayed at the begging one of the features which contribute to Python success is its ability to easily connect to compiled libraries, which makes it perfect as a glue language. But this made Python popular 20 years ago. The tools, which are still popular, are old. The problem with them is you need to make quite a lot of effort to use them:</p>
<ul class="simple">
<li><a class="reference external" href="http://docs.python.org/3.3/library/ctypes.html">ctypes</a></li>
<li><a class="reference external" href="http://docs.python.org/3.3/extending/">c extensions</a></li>
<li><a class="reference external" href="http://cython.org/">Cython</a> - It’s designed to easily writing <em>c extensions</em> and it’s good for this task. But I admint that using <em>c extensions</em> is a last thing you want to do. There are better ways (more elaboration below). Cython is an external tool which requires compilation process. It produces non dynamic behaviour in a final code and another syntax to learn. In the end Cython doesn’t support type inference. The problem with Cython is that when you use it you are done - you have no option than compile it. Cython is not a standard. It can’t be used as an interpreted code. Great summary was done by Kay Hayen, the _nuitka_ creator, in <a class="reference external" href="http://nuitka.net/posts/static-compilation-that-is-the-point.html">Static Compilation - That is the point</a> post.</li>
<li><a class="reference external" href="http://www.swig.org/tutorial.html">swig</a>, <a class="reference external" href="http://www.boost.org/doc/libs/1_52_0/libs/python/doc/tutorial/doc/html/index.html">boost</a>  - those are quiet easy, usually requires some changes in C/C++ code, or write some schema file.</li>
</ul>
<p>In contrast there are new tools which handle this task far more better preserving performance (even outperforming it):</p>
<ul class="simple">
<li><a class="reference external" href="http://cffi.readthedocs.org/en/latest/">cffi</a> - package which allows easily handling your C libraries. You often need to do it while touching a hardware or supporting some other software (like database clients/drivers). Just check how easy is to use it with Python. You don’t need to write any wrapper, typed code. Moreover has CPython and PyPy support.</li>
<li><a class="reference external" href="https://github.com/dabeaz/bitey/">bitey</a></li>
</ul>
<div class="section" id="python-as-a-brain-of-your-code-other-aspect-of-a-glue-language">
<h4>Python as a brain of your code - other aspect of a glue language</h4>
<p>There is also other aspect of a <em>glue language</em>. Let’s think about process of low level high performance programming. It probably looks similar to the following process:</p>
<ul class="simple">
<li>idea</li>
<li>lot of complicated low level and organization code. Probably in C++ with a bunch of obscure template code (for re usability)</li>
<li>writing glue code</li>
<li>compilation</li>
<li>running</li>
<li>probably a lot of debugging and return back to writing, because of the amount of low level code.</li>
</ul>
<p>Thanks Python’s portability, scripting nature and big amount of tools, it is used as a template and brain engine for your code.
That means you only write the smallest amount of required low level code, and python do the rest: generating the organization code, and the context required for your low level code.</p>
<p>This takes back to Lisp idea, where code is a data, and makes sense of code about other code that is executed (<em>code as a data to process</em>). So the machine can think about what is executing in runtime, then optimizing it, reasoning about full data information in true generic way without templating you known from C++. This is what C++ and other popular languages lost.
At the end we have lower abstraction level but stronger runtime knowledge which allows compiler for:</p>
<ul class="simple">
<li>Specialize for unknown hardware (at code writing time), the problem with supported types, and available optimizations.</li>
<li>Automated tuning (e.g. your data for libraries like ATLAS...)</li>
<li>Allow so put other information to compiler which far more reasoning.</li>
<li>People don’t struggle with data types (Runtime allows to makes it fast, appropriate and... already done)</li>
</ul>
<p>So the process looks like:</p>
<ul class="simple">
<li>idea</li>
<li>little of Python code (the pretty one) - for organization, and low level code - also much nicer because without the rubbish template and context code. Actually low level code can be generated from python code.</li>
<li>running</li>
<li>debugging, but much less times then in previous process.</li>
</ul>
<p>In terms of performance it gives a <strong>better potential</strong> then previous approach.</p>
<p>Examples which already use it: PyPy, cffi, PyOpenCL, PyCUDA, numba, theano...</p>
</div>
</div>
<div class="section" id="python-as-a-fast-language">
<h3>Python as a fast language</h3>
<p>There are a lot of ways to write a fast code with python.
The most popular and unfortunately still propagated is to write the <em>hot</em> parts of application in a low level language and then use.</p>
<p>All the python shining efficient tools requires a lot of complicated c code, which block other contributors to come in.
Now we would like to write fast and beauty python code.</p>
<p>There are a lot of tools to compile a code python to machine code: Nuitka, Python2C, Shedskin, pythran. In my opinion they fail because when you use them you need to say goodbye for dynamic behaviour of the code. They support only a subset of the python language and they are far far away to support it completely. I even don’t believe they will. Besides they don’t use state of the art techniques and runtime information which makes JITs solutions shining.</p>
</div>
</div>
<div class="section" id="multicore-programming">
<h2>Multicore Programming</h2>
<p>Can’t write anything better to present the issue then Armins Rigo <a class="reference external" href="http://morepypy.blogspot.com/2012/08/multicore-programming-in-pypy-and.html">Multicore Programming in PyPy and CPython</a></p>
</div>
<div class="section" id="interpreter-design">
<h2>Interpreter Design.</h2>
<p>To make further development easy and implement state of the art techniques for dynamic languages Python needs suitable implementation with well advised architecture. Current CPython architecture is limited because of its simplicity. It makes hard to do things like  JIT compiler. Just check fails of some attempts to enhance CPython interpreter:</p>
<ul class="simple">
<li>psyco (was abandoned in favour of PyPy)</li>
<li>Unladen swallow</li>
<li>a lot of fails with removing GIL</li>
<li>There are forks which tries repairs some flaws in CPython: Stackless and HotPy, but firmness of Guido (the Benevolent Dictator for Life in Python) hardly stops to merge those projects. (To be clear HotPy is not yet production ready).</li>
</ul>
<p>One of the biggest drawback of sticking to closely with CPython is it’s C API - which is not well designed. Other implementations suffer because of that.</p>
<div class="section" id="what-can-we-do">
<h3>What can we do?</h3>
<ol class="arabic simple">
<li>Promote new tools for glue code ( <strong>cffi</strong>, <strong>bitey</strong>)</li>
<li>Stop rely on low level properties of CPython (C API, c extensions) for common libraries. Instead use some intermediate tools which can handle this:</li>
</ol>
<blockquote>
<div><ul class="simple">
<li><em>cffi</em>   - to easily use C libraries</li>
<li><em>cython</em> - to write portable c extensions. I don’t recommend it for general programming, but still it’s better and easier to maintain then c extensions. Cython already has both CPython and PyPy backend.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="why-pypy-is-the-future">
<h3>Why PyPy is the future?</h3>
<p>PyPy provides much better architecture for optimization and further language development. PyPy already comes with the solution for most of the Pythons issues:</p>
<ul class="simple">
<li>state of the art runtime and design described in <a class="reference external" href="http://www.aosabook.org/en/pypy.html">The Architecture of Open Source Applications</a>.</li>
<li>speed - PyPy buildin JIT shines. Sometime (actually rarely) can bit even C!</li>
<li>GIL issue - PyPy is coming with great STM implementation, which is already mentioned in Armins Rigo <a class="reference external" href="http://morepypy.blogspot.com/2012/08/multicore-programming-in-pypy-and.html">article</a>.</li>
<li>glue code - easy handling c libraries with cffi, which is even faster than ctypes in CPython!</li>
<li>asynchronous programming. PyPy has build in greenlets which are better suited in, then the original c extension for CPython. In fact Further development of stackless concept (and thus greenlets) are going to PyPy (check <a class="reference external" href="https://ep2012.europython.eu/conference/talks/the-story-of-stackless-python">https://ep2012.europython.eu/conference/talks/the-story-of-stackless-python</a>)</li>
<li>sandboxing</li>
<li>using in web and mobile. Dusty makes some post about this in <a class="reference external" href="http://archlinux.me/dusty/2012/10/04/pushing-python-past-the-present/">Pushing Python Past the Present</a></li>
</ul>
<p>PyPy already has support for multiple platforms (x86, 64_x86, ARM)</p>
<p>PyPy also offers a great, modern architecture which is well described in <a class="reference external" href="http://www.slideshare.net/jserv/pypy-dynamic-language-compilation-framework">Jim Huang presentation</a>
The key points are:</p>
<ul class="simple">
<li>framework for interpreted languages</li>
<li>compound of components for research and production (different data models, garbage collectors - can be changed for specific use)</li>
<li>build on top of functional architecture with chained components (translation toolchains). Each step extends/transforms the program model, introduces features, backends (JVM, JavaScript, LLVM, GCC IR...). Examples of translations: <em>python code -&gt; bytecode -&gt; function objects -&gt; type inference -&gt; garbage collector -&gt; JIT</em></li>
<li>includes a lot of modern optimization techniques developed on different level of architecture (allows to simplify this task)</li>
</ul>
<p>I believe that making all software to cooperate with PyPy is a huge effort - it requires a lot of work in existing libraries. But producing software which cooperates with PyPy and CPython can be done even easier using new tools (mentioned in <em>What can we do</em>)  then relying on <em>c extensions</em>.</p>
</div>
<div class="section" id="cpython-legacy">
<h3>CPython legacy</h3>
<p>Here I need to admit the  great legacy of CPython dependent code (due to tight relying of c extensions). Mainly it is scientific software (NumPy, SciPy ...). Python is used by scientists long before PyPy became production ready (I think it was 2 year ago), and since that time it grows in terms of tools, codebase and community. All of them make a brilliant platform which is often choose as an alternative to Matlab and others (someone can even argument as a better alternative). Even thought c extensions was the only ready solution to produce this. Now the efforts are still tight to CPython because there is an enormous work required to make all the scientific stack compatibility with PyPy. The simpler solution is to make some on-demand JIT - decorating particular functions and then on the fly compile them to machine code and swap them using c extensions. This idea doesn’t require rewriting all the scientific platform and also provides fast runtime. The prominent project which use this idea is <strong>numba</strong> sponsored by Continuum Analytics (the company which deliver robust scientific platform based on python libraries). Numba chose this direction because it wants to make fast scripts compatible with all other scientific code which now is depend on CPython. It is worth to learn about numba. Good explanation can be found at <a class="reference external" href="http://www.youtube.com/watch?v=WYi1cymszqY">numba talk</a> from SciPy conference.</p>
<p>I must say that the community around scientific Python is great. They really care about quality, usage  and promotion (by organizing a lot of conferences: SciPy conf, PyData) of their products. Thanks to them Python is the first choice free platform for scientific analysis. I need also to mention about Travis Oliphant, who put a lot of effort in the community and makes the whole platform coherent. Some summary about this can be found in a blog post: <a class="reference external" href="http://jakevdp.github.com/blog/2012/09/20/why-python-is-the-last/">Why Python Is the Last Language You’ll Have to Learn</a></p>
<div class="section" id="what-about-pypy">
<h4>What about PyPy?</h4>
<p>I wish that PyPy was not production ready before.</p>
</div>
</div>
<div class="section" id="references">
<h3>References</h3>
<p>[1] <a class="reference external" href="http://www.gossamer-threads.com/lists/python/dev/998582">A new JIT compiler for a faster CPython discussion</a> <br/>
[2] <a class="reference external" href="http://morepypy.blogspot.com/2012/08/multicore-programming-in-pypy-and.html">Multicore programming</a> <br/>
[3] <a class="reference external" href="https://ep2012.europython.eu/conference/talks/the-story-of-stackless-python">The story of stackless</a> <br/>
[4] <a class="reference external" href="http://technicaldiscovery.blogspot.no/2011/10/thoughts-on-porting-numpy-to-pypy.html">http://technicaldiscovery.blogspot.no/2011/10/thoughts-on-porting-numpy-to-pypy.html</a> <br/>
[5] <a class="reference external" href="http://nuitka.net/posts/static-compilation-that-is-the-point.html">Static Compilation - That is the point</a> - Summary of problems when developing with Cython. <br/>
[6] <a class="reference external" href="http://jakevdp.github.com/blog/2012/09/20/why-python-is-the-last/">Why Python Is the Last Language You’ll Have to Learn</a> <br/>
[7] <a class="reference external" href="http://archlinux.me/dusty/2012/10/04/pushing-python-past-the-present/">Pushing Python Past the Present</a> <br/></p>
</div>
</div>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Mon, 17 Dec 2012 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/12/13/scala_tutorial_for_programmers.html</link>
            <guid>http://rz.scale-it.pl/2012/12/13/scala_tutorial_for_programmers.html</guid>
            <title>Scala tutorial for programmers</title>
            <description><![CDATA[<div class="section" id="scala-tutorial-for-programmers">
<h1>Scala tutorial for programmers</h1>
<p>Finally I get myself together and publish my <a class="reference external" href="/docs/scala.html">Scala tutorial for programmers</a> (it is linked under <em>menu -&gt; documents</em>).</p>
<p>I started working on two years ago, but didn’t have enough time to finish it. This year I almost didn’t make any update (fortunately Scala also has’nt much of them). If you find any errors please contact me.</p>
<p>I started fascinating Scala in 2008, when I found this language as an impressive work on JVM, and how many clever features can be work on top of it.
Scala shows that programming on JVM can be fast and compact. Just dive into and read!</p>
<p>Unfortunately I dislike Scala <a class="reference external" href="/docs/scala.html#heading_toc_j_131">implicits</a> overhead and abuse of symbolic functions literals, like <tt class="docutils literal"><span class="pre">:%,</span> <span class="pre">:=&gt;,</span> <span class="pre">~&gt;,</span> <span class="pre">\/,</span> <span class="pre">\\/</span></tt> (here I typed 5 different names). For a Scala expert it can be fun. But Scala world is tight to Java one and not everyone a programming master. When someone needs to look into <em>implicits</em> mess, I’m sure he will need some painkillers.
Neverless it contains a lot of brillinat constructs and state of the art solutions from programming languages theory and programming patterns (eg: <em>cake pattern</em>).</p>
<p>At the end I’m still Python evangelist :)</p>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Thu, 13 Dec 2012 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/12/10/blog_moved.html</link>
            <guid>http://rz.scale-it.pl/2012/12/10/blog_moved.html</guid>
            <title>Blog moved</title>
            <description><![CDATA[<div class="section" id="blog-moved">
<h1>Blog moved</h1>
<p>I’ve just moved my blog from <a class="reference external" href="http://robert-zaremba-it.posterous.com/">http://robert-zaremba-it.posterous.com/</a>. I migrate most of the content. Here you can find my new posts.</p>
<p>The blog was redesigned. It is based on my previous blog. Big thanks to <a class="reference external" href="http://martazaremba.wix.com/human-space">Marta Zaremba</a> who makes the final design, which is so cool (at least for me).</p>
<p>Previously I used <a class="reference external" href="http://posterous.com">http://posterous.com</a> platform for blogging. But since twitter bought it there was no development and progress in the palatform.</p>
</div>]]></description>
             <pubDate>Mon, 10 Dec 2012 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/11/16/keep_your_session_open.html</link>
            <guid>http://rz.scale-it.pl/2012/11/16/keep_your_session_open.html</guid>
            <title>Keep your session open</title>
            <description><![CDATA[<div class="section" id="keep-your-session-open">
<h1>Keep your session open</h1>
<p>Have you ever thought how to keep session open on remote host, or want to run multiple processes in a background?</p>
<p>You may hear about <a class="reference external" href="http://en.wikipedia.org/wiki/Nohup">nohup</a>, but it is uncomfortable and doesn’t allow you to come back to this process.</p>
<div class="section" id="tmux-and-screen">
<h2>tmux and screen</h2>
<p>Multiplex virtual consoles are the way to go.
Both are well known and widely used in the Linux world.</p>
<p>I prefer tmux. It has more features, is more comfortable and beauty out of the box. According to <strong>tmux</strong> FAQ:</p>
<ul class="simple">
<li>A clearly defined client/server model (windows are their own clients which allows flexibility on how you handle windows. You can attach and detach different windows in different sessions without any issues)</li>
<li>Consistent, well-documented command interface. (You can use the same commands interactively as in the .tmux.conf file, more on that later)</li>
<li>Easily scriptable</li>
<li>Multiple paste buffers</li>
<li>Vi &amp;amp; Emacs keybindings</li>
<li>A more usable status line syntax (which also allows you to embed the output of a shell command, handy indeed.</li>
</ul>
<div class="section" id="how-to-start">
<h3>How to start</h3>
<p>Imagine you are logged in a remote server and want to download big file.
Just enter into virtual console and make the job there:</p>
<div class="highlight-python"><pre>tmux
## the multiplex will run
wget http://sever.com/some_file</pre>
</div>
<p>To go back to main console type: <strong>prefix d</strong> (detach)
Then you can logout, and later log in and type:</p>
<div class="highlight-python"><pre>tmux attach</pre>
</div>
<p><em>prefix</em> is a key combination used to make some actions. By default
<strong>`prefix = Ctrl-b`</strong>
Since in <em>screen</em> <tt class="docutils literal"><span class="pre">prefix=Ctrl-a</span></tt>, it is nice to use the same prefix. Moreover, in my opinion, <tt class="docutils literal"><span class="pre">Ctrl-a</span></tt> is easier to type.
To change the prefix, you need to edit tmux configuration file (<tt class="docutils literal"><span class="pre">~/.tmux.conf</span></tt>)</p>
</div>
<div class="section" id="tmux-configuration">
<h3>tmux configuration</h3>
<div class="highlight-sh"><div class="highlight"><pre><span class="c"># ~/.tmux.conf</span>
<span class="c"># remap prefix to Ctrl-a</span>
<span class="nb">set</span> -g prefix c-a
unbind c-b
<span class="nb">bind </span>c-a send-prefix

<span class="c"># set vi mode. Enter Ctrl+a [ to navigate like in vi. Enter return to get out of the mode</span>
setw -g mode-keys vi


<span class="c"># force a reload of the config file</span>
unbind r
<span class="nb">bind </span>r <span class="nb">source</span>-file ~/.tmux.conf

<span class="c"># quick pane cycling</span>
unbind ^a
<span class="nb">bind</span> ^a <span class="k">select</span>-pane -t :.+
</pre></div>
</div>
</div>
<div class="section" id="working-with-tmux">
<h3>Working with tmux</h3>
<ul class="simple">
<li>Commands in tmux can be entered from command line: <cite>tmux  &lt;command&gt;</cite>
your console emulator might support <em>tab</em> completion with <cite>tmux &lt;tab&gt;</cite></li>
<li>in tmux session <cite>prefix :</cite></li>
<li>directly using key shortcut (like previously mentioned <cite>prefix-d</cite> to detach)</li>
</ul>
<div class="section" id="session-management">
<h4>Session management</h4>
<p>tmux can manage multiple session.</p>
<ul class="simple">
<li><cite>tmux new -s session_name</cite> <br/>
creates a new tmux session named session_name</li>
<li><cite>tmux attach -t session_name</cite> <br/>
attaches to an existing tmux session named session_name</li>
<li><cite>tmux switch -t session_name</cite> <br/>
switches to an existing session named session_name</li>
<li><cite>tmux list-sessions</cite> <br/>
lists existing tmux sessions</li>
<li><cite>tmux detach (prefix d)</cite> <br/>
detach the currently attached session</li>
</ul>
</div>
<div class="section" id="windows-and-panes">
<h4>Windows and panes</h4>
<p>In single tmux session you can have multiple windows/tabs. It is very helpful when creating multiple windows to set them names.
On tmux you can divide to multiple panes, each one will be occupied by some window</p>
<ul class="simple">
<li><em>tmux new-window [-n window-name] [-t target window] [command] (prefix  c)</em> <br/>
a new window and optionally run there a command. The <em>-t</em> option specify where to put new window (as a which window) - can be in form [session_name:]window_num</li>
<li><em>tmux rename-window (prefix  ,)</em> <br/>
rename the current window</li>
<li><em>tmux select-window -t :0-9 (prefix  0-9)</em> <br/>
move to the window based on index</li>
<li><em>kill-window (prefix &amp;)</em> <br/>
kill current window</li>
<li><em>prefix n / p / l / w</em> <br/>
move to next / previous / previously selected window / list windows</li>
<li><em>find-window (prefix f)</em> <br/>
find window by name</li>
<li><em>tmux split-window (prefix ”)</em> <br/>
splits the window into two vertical panes</li>
<li><em>tmux split-window -h (prefix %)</em> <br/>
splits the window into two horizontal panes</li>
<li><em>tmux swap-pane -[UDLR] (prefix { or })</em> <br/>
swaps pane with another in the specified direction</li>
<li><em>tmux select-pane -[UDLR]</em> <br/>
selects the next pane in the specified direction</li>
<li><em>tmux select-pane -t :.+ (prefix o  == prefix C-a)</em> <br/>
selects the next pane in numerical order</li>
<li><em>tmux display panes (prefix q)</em> <br/>
Show pane numbers (used to switch between panes)</li>
<li><em>move-window [ &amp;minus;d] [ &amp;minus;s src-window] [ &amp;minus;t dst-window]</em></li>
<li><em>swap-window [ -d] [ -s src-window] [ -t dst-window]</em></li>
<li><em>break-pane</em> <br/>
make your pane into its own window</li>
</ul>
</div>
<div class="section" id="other-useful">
<h4>Other useful</h4>
<ul class="simple">
<li><em>prefix :</em> <br/>
enter command</li>
<li><em>tmux list-keys (prefix ?)</em> <br/>
lists out every bound key and the tmux command it runs</li>
<li><em>tmux list-commands</em> <br/>
lists out every tmux command and its arguments</li>
<li><em>tmux info</em> <br/>
lists out every session, window, pane, its pid, etc.</li>
<li><em>prefix [</em> <br/>
to navigate like in <em>vi</em>. Enter <em>return</em> to get out of the mode</li>
</ul>
</div>
</div>
<div class="section" id="further-reading">
<h3>Further reading</h3>
<ul class="simple">
<li><a class="reference external" href="http://blog.hawkhost.com/2010/07/02/tmux-%E2%80%93-the-terminal-multiplexer-part-2/">tweaking tmux</a></li>
<li><a class="reference external" href="http://hyperpolyglot.org/multiplexers">key bindings comparison between tmux and screen</a></li>
</ul>
</div>
<div class="section" id="for-screen-users">
<h3>For Screen users</h3>
<ul class="simple">
<li><a class="reference external" href="http://www.pixelbeat.org/lkdb/screen.html">key bindings</a></li>
<li><a class="reference external" href="http://web.mit.edu/gnu/doc/html/screen_9.html">window title, bars</a></li>
<li><a class="reference external" href="http://www.saltycrane.com/blog/2008/01/how-to-scroll-in-gnu-screen/">scrolling, copying, opening sessions</a> in screen</li>
<li><a class="reference external" href="http://www.delorie.com/gnu/docs/screen/screen_62.html">key codes</a> - Input Translation</li>
</ul>
</div>
</div>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Fri, 16 Nov 2012 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/06/04/hash_function_benchmark_in_python.html</link>
            <guid>http://rz.scale-it.pl/2012/06/04/hash_function_benchmark_in_python.html</guid>
            <title>Hash function benchmark in python</title>
            <description><![CDATA[<div class="section" id="hash-function-benchmark-in-python">
<h1>Hash function benchmark in python</h1>
<p>I got a task to process a documents which might change. So there need to be some worker process which crawl for processed documents, read new version and check the difference. I don’t want to get into details, but there was no point to store whole document, or some part of it to detect if document changed. If it changed it needs to be reprocessed from the beginning.</p>
<p>The simplest solution is to keep hash of the document, and than compare to hash of the new version. If it is different, than document was changed.</p>
<p>There are a lot of hash function. We can divide then into two groups:</p>
<ul class="simple">
<li>noncryptographic</li>
<li>cryptographic – we have additional requirement – having only hash result must be hard to find a document which hash equals result.</li>
</ul>
<p>Generally <em>noncryptographic</em> functions are faster.</p>
<p>The most well known hash functions are <strong>sha</strong> and <strong>md5</strong>. Since cryptographic wasn’t requirement, I look for others hash functions.</p>
<p>I don’t want to repeat some good texts about hash functions, so i point to two of them:</p>
<ul class="simple">
<li><a class="reference external" href="http://blog.aggregateknowledge.com/2011/12/05/choosing-a-good-hash-function-part-1/">Choosing a Good Hash Function</a></li>
<li><a class="reference external" href="http://burtleburtle.net/bob/hash/doobs.html">A Survey of Hash Functions</a></li>
</ul>
<p>I think, the best non-cryptographic hash function is <a class="reference external" href="http://code.google.com/p/smhasher/wiki/MurmurHash">MurmurHash</a> because:</p>
<ul class="simple">
<li>it’s darn fast</li>
<li>stable</li>
<li>used by others (Microsoft, Google)</li>
<li>great fraction of keys hashed without collision</li>
<li>has good avalanche behavior</li>
</ul>
<p>Here I present Python (2.7.3) and PyPy (1.8) performance test for some hash functions. The numbers are time execution of the test in seconds</p>
<table border="1" class="docutils">
<colgroup>
<col width="31%"/>
<col width="31%"/>
<col width="38%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">method</th>
<th class="head">cpython</th>
<th class="head">pypy 1.8</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>md5</td>
<td>3.495</td>
<td>3.621</td>
</tr>
<tr class="row-odd"><td>mmh3</td>
<td>0.4336</td>
<td>6.186</td>
</tr>
<tr class="row-even"><td>smhasher</td>
<td>0.4417</td>
<td>5.877</td>
</tr>
<tr class="row-odd"><td>lookup3</td>
<td>1.6933</td>
<td>7.963</td>
</tr>
<tr class="row-even"><td>pyhash</td>
<td>0.00022</td>
<td>unsupported</td>
</tr>
</tbody>
</table>
<p>The test is very simple. It reads some html file (441KB) and just timeit for 4000 times:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">timeit</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">time</span>
<span class="kn">from</span> <span class="nn">hashlib</span> <span class="kn">import</span> <span class="n">md5</span>
<span class="kn">import</span> <span class="nn">mmh3</span>     <span class="c"># http://pypi.python.org/pypi/mmh3/2.0</span>
<span class="kn">import</span> <span class="nn">smhasher</span> <span class="c"># http://pypi.python.org/pypi/smhasher</span>
<span class="kn">import</span> <span class="nn">pyhash</span>   <span class="c"># http://code.google.com/p/pyfasthash/</span>
                <span class="c"># need to install previously sudo apt-get install libboost-python-dev</span>
<span class="kn">import</span> <span class="nn">lookup3</span>

<span class="n">data</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;ruya.html&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">num</span> <span class="o">=</span> <span class="mi">4000</span>
<span class="n">repeat_n</span><span class="o">=</span><span class="mi">1</span>
<span class="n">setup_c</span><span class="o">=</span><span class="s">&quot;&quot;&quot;</span>
<span class="s">from hashlib import md5</span>
<span class="s">import mmh3</span>
<span class="s">import smhasher</span>
<span class="s">import lookup3</span>
<span class="s">#import pyhash</span>
<span class="s">data=open('ruya.html').read()</span>
<span class="s">&quot;&quot;&quot;</span>

<span class="k">print</span> <span class="s">&quot;*&quot;</span><span class="o">*</span><span class="mi">40</span>
<span class="k">print</span> <span class="s">&quot;md5:&quot;</span><span class="p">,</span>  <span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s">&quot;md5(data).digest()&quot;</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup_c</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="n">repeat_n</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="n">num</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;mmh3:&quot;</span><span class="p">,</span> <span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s">&quot;mmh3.hash_bytes(data)&quot;</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup_c</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="n">repeat_n</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="n">num</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;smhasher&quot;</span><span class="p">,</span>  <span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s">&quot;smhasher.murmur3_x64_128(data)&quot;</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup_c</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="n">num</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&quot;lookup3&quot;</span><span class="p">,</span>  <span class="n">timeit</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="n">stmt</span><span class="o">=</span><span class="s">&quot;lookup3.hashlittle(data)&quot;</span><span class="p">,</span> <span class="n">setup</span><span class="o">=</span><span class="n">setup_c</span><span class="p">,</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="n">num</span><span class="p">)</span>
</pre></div>
</div>
</div>]]></description>
            <category><![CDATA[ computer science ]]></category>
             <pubDate>Mon, 04 Jun 2012 00:00:00 +0200</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/05/13/scala_posts_on_scala_net_pl.html</link>
            <guid>http://rz.scale-it.pl/2012/05/13/scala_posts_on_scala_net_pl.html</guid>
            <title>Scala posts on scala.net.pl</title>
            <description><![CDATA[<div class="section" id="scala-posts-on-scala-net-pl">
<h1>Scala posts on scala.net.pl</h1>
<p>Hi,</p>
<p>Recently I’m posting some articles about Scala programming language at <a class="reference external" href="http://scala.net.pl/">scala.net.pl</a>. It is in polish language. But someone might find it interesting.</p>
<p>My posts are reachable with: <a class="reference external" href="http://scala.net.pl/author/robert-zaremba/">http://scala.net.pl/author/robert-zaremba/</a></p>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Sun, 13 May 2012 00:00:00 +0200</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/01/27/actor_and_functional_thinking_in_contrast_to_imperative_one.html</link>
            <guid>http://rz.scale-it.pl/2012/01/27/actor_and_functional_thinking_in_contrast_to_imperative_one.html</guid>
            <title>Actor and functional thinking in contrast to imperative one</title>
            <description><![CDATA[<div class="section" id="actor-and-functional-thinking-in-contrast-to-imperative-one">
<h1>Actor and functional thinking in contrast to imperative one</h1>
<p>After reading <a class="reference external" href="http://www.doc.ic.ac.uk/~nd/surprise_97/journal/vol2/pjm2/">“Why has the actor model not succeeded?”</a> (which I really recommend to read) I’ve started to think about similarities with functional languages.</p>
<p>Actor model was introduced to as an easy and straight solution for projecting distributed systems.</p>
<p>Functional languages come to substitute imperative style focused on “how machines think” by a maths model - “how human would think in straight way”.</p>
<p>The problem with Actor model is we think about some program to call a method or to send a request to make a method. If we think to call a method then we have this method and we can call it. On the other way if we think to send a request then we have a “tool” which performs sending request. That is a straight way.</p>
<p>In actor model encapsulation goes with actors itself. So if we want to hide some abstraction in a “boxes” we make an actors which has functionality of an abstraction. Then if we want to use the functionality we need to send a message as a request to an actor.</p>
<p>On the other hand Functional programming model allows us to directly call the function, deliver great tools to message passing, and abstract distribute system by simply functions. And we still think functional.</p>
<p>For those who want an object model with hierarchy (prefer abstract with inheritance than higher kind of polymorphism as an Abstract Data Type and classtypes or functors) there is great language: <a class="reference external" href="http://scala-lang.org/">Scala</a> which is brilliant in mixing object oriented programming with functional.</p>
<p>I will try to approach Scala in some next posts.</p>
</div>]]></description>
            <category><![CDATA[ computer science ]]></category>
             <pubDate>Fri, 27 Jan 2012 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/01/09/jabber_client_behind_firewall_and_proxy.html</link>
            <guid>http://rz.scale-it.pl/2012/01/09/jabber_client_behind_firewall_and_proxy.html</guid>
            <title>Jabber client behind firewall and proxy</title>
            <description><![CDATA[<div class="section" id="jabber-client-behind-firewall-and-proxy">
<h1>Jabber client behind firewall and proxy</h1>
<p>There is a great article explaining how to setup jabber client to connect to jabber server which is outside firewall: <a class="reference external" href="https://web.amessage.eu/firewalled">https://web.amessage.eu/firewalled</a></p>
<p>Behind the scene, if your jabber server don’t support connection through 80/443 port, then you can:</p>
<ol class="arabic simple">
<li>register new account on jabber80.com</li>
<li>Most of the desktop clients support automatic account registration.</li>
<li>install a client that support proxy connection (vacuum-im, psi)</li>
<li>manage a account to connect through proxy (need to know the company proxy)</li>
<li>use <tt class="docutils literal"><span class="pre">jabber80.com:443</span></tt> as a  server to connect to.</li>
</ol>
<p>The company I work for uses firewall that block everything besides HTTP :80/443 and proxy to manage outside connection.</p>
<p>I succeed with setup my desktop client to jabber.wp.pl and talk.google servers.</p>
<div class="section" id="talk-google">
<h2>talk.google</h2>
<p>The configuration for google talk is as follows (for vacuum-im):</p>
<ol class="arabic simple">
<li>set your credentials (<a class="reference external" href="mailto:username%40gmail.com">username<span>@</span>gmail<span>.</span>com</a>)</li>
<li>enable and configure the proxy server (the one you use to connect to internet)</li>
<li>tick “Use legacy SSL connection”</li>
<li>manually set the host: talk.google.com   port: 443 or 80</li>
</ol>
<div class="line-block">
<div class="line">The standard configuration for jabber at talk.google is described on <a class="reference external" href="http://support.google.com/talk/bin/answer.py?hl=en&amp;answer=24074&amp;topic=1415&amp;ctx=topic">google support pages</a></div>
<div class="line">[Edit]</div>
<div class="line">Recently I read that google also <a class="reference external" href="http://support.google.com/talk/bin/answer.py?hl=en&amp;answer=27930">uses 5222 port</a>!</div>
</div>
<p>There is also solution with proxytunel, described <a class="reference external" href="http://vnoel.wordpress.com/2008/01/30/google-talk-in-ichat-behind-a-firewall/">here</a>. I didn’t try this.</p>
</div>
<div class="section" id="left-with">
<h2>Left with</h2>
<p>Since I normally don’t use google account, and my primary jid is at jabber.org; I was forced to use my previous solution - jabber web client which is bundled into mail service I use (zoho.com). Generally all web clients works fine (assuming the proxy is configured correctly).</p>
<p>Other good topics and answers you can find at: <a class="reference external" href="http://www.softwaretalk.info/google-talk/">http://www.softwaretalk.info/google-talk/</a></p>
</div>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Mon, 09 Jan 2012 00:00:00 +0100</pubDate>
        </item>
    
        <item>
            <link>http://rz.scale-it.pl/2012/01/02/how_to_add_gps__geolocation__tags_to_photos.html</link>
            <guid>http://rz.scale-it.pl/2012/01/02/how_to_add_gps__geolocation__tags_to_photos.html</guid>
            <title>How to add GPS (geolocation) tags to photos</title>
            <description><![CDATA[<div class="section" id="how-to-add-gps-geolocation-tags-to-photos">
<h1>How to add GPS (geolocation) tags to photos</h1>
<p>There are a lot of web services which read the metadata from pictures and display them. Among doses metadata are those to store gps coordinates. Some services use them to present the location, where a picture was taken.
The usually metadata info are stored is <a class="reference external" href="http://en.wikipedia.org/wiki/Exchangeable_image_file_format">EXIF</a> which is one of the popular by camera manufactures and web services. There are also other standards, but not such popular or quiet old.</p>
<p>Nowadays some of the cameras and a lot of mobiles have a gps module, so the can put geolocation information to picture in the moment it is taken.</p>
<p>But what if we have a pictures without geolocation information? I thought there are be a lot of free Linux programs to put this information into picture.
But I spend some hours to look for them. I couldn’t find comfortable easy, small application which adds geolocation to picture!</p>
<h4>Application for exif metadata present, or to allow edit only the most popular</h4><ul class="simple">
<li>gwenview (present all included information, but allow to edity only the mos popular keys, but not the ones from geolocation)</li>
<li>digiKam / showFoto - only present the metadata</li>
<li>gthum - only present the metadata</li>
<li>gimp - don’t allow to present / edit metadata unless without special plugin (I didn’t check). What is worse it delete metadata information from picure!</li>
</ul>
<h4>Application for adding automaticly geolocation info from gps log file (gpx).</h4><p>After googleing for “how to add geolocation / geodata / geocalucus to picture” I found some programs that read the gps logs, check the catalogue, look for appropriate pictures and update geolocation info.
The problem is that</p>
<ol class="arabic simple">
<li>you need to have gps log file.</li>
<li>Ok, you can make some file - this requires additional work, and to learn how this file looks like.</li>
<li>the pictures timestamp must correspond to timestamp from gps log file! Those tools check if picture was taken in a similar time gps log a position.</li>
</ol>
<p>So it can be quiet problematic. But the applications are:</p>
<ol class="arabic simple">
<li>gpicsync</li>
<li>gpscorrelate</li>
</ol>
<h4>Application that allow handy put geolocation into picture.</h4><p>Finaly I found some of them:</p>
<ol class="arabic simple">
<li>exiv2 (command line)</li>
<li>exiftool (command line)</li>
<li>gexif</li>
</ol>
<p>The best are those command line - they allow to easy scripting!</p>
<p>Example of using exiftool
<em>set longtitude latitude with exiftool</em></p>
<div class="highlight-bash"><div class="highlight"><pre>% exiftool -GPSLongitude<span class="o">=</span><span class="s2">&quot;14.273586&quot;</span>  -GPSLatitude<span class="o">=</span><span class="s2">&quot;50.860361&quot;</span> img.png
</pre></div>
</div>
<p>Example of using exiv2</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c">## print summary of image metadata (default behaviour when we run: exiv2 img.jpg)</span>
% exiv2 pr -p s img.jpg

<span class="c">## print all metadata from img</span>
% exiv2 pr -p a img.jpg

<span class="c">## extract GPS info</span>
% exiv2 pr -p a img.jpg  | grep GPS

<span class="c">## set image latitude to 14.12213 deg == 14deg 16' 24.910&quot;, we need to put 3 vaules of type &lt;natural_val/1[0*number of digits after dot -1]&gt;</span>
% exiv2 -M<span class="s2">&quot;set  Exif.GPSInfo.GPSLatitude 1412213/100000 0/1 0/1&quot;</span> img.jpg

<span class="c">## set image latitude to 14deg 16' 24.910&quot;</span>
% exiv2 -M<span class="s2">&quot;set  Exif.GPSInfo.GPSLatitude 14/1 16/1 24910/1000&quot;</span> img.jpg

<span class="c">## set both latitude and longtitude to 14deg 16' 24.910&quot;</span>
% exiv2 -M<span class="s2">&quot;set  Exif.GPSInfo.GPSLatitude 14/1 16/1 24910/1000&quot;</span> -M<span class="s2">&quot;set  Exif.GPSInfo.GPSLongtitude 14/1 16/1 24910/1000&quot;</span> img.jpg

<span class="c">## loop throug all files in current catalogue and set set both latitude and longtitude to 14deg 16' 24.910&quot;</span>
% <span class="k">for </span>f in *.jpeg; <span class="k">do</span>
<span class="k">    </span>exiv2 -M<span class="s2">&quot;set  Exif.GPSInfo.GPSLatitude 1412213/100000 0/1 0/1&quot;</span> -M<span class="s2">&quot;set  Exif.GPSInfo.GPSLongtitude 1412213/100000 0/1 0/1&quot;</span> <span class="nv">$f</span>;
  <span class="k">done</span>
</pre></div>
</div>
<p>The list of <em>exiv2 supported metadata keys</em> is at <a class="reference external" href="http://www.exiv2.org/tags.html">http://www.exiv2.org/tags.html</a></p>
</div>]]></description>
            <category><![CDATA[ IT ]]></category>
             <pubDate>Mon, 02 Jan 2012 00:00:00 +0100</pubDate>
        </item>
    
    </channel>
</rss>